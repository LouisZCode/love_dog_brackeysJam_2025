[gd_scene load_steps=16 format=3 uid="uid://bxgd8ckgfbbq8"]

[ext_resource type="Script" path="res://script/GameUI.gd" id="1_fp8jv"]
[ext_resource type="PackedScene" uid="uid://byktwux5rrnxo" path="res://scenes/player.tscn" id="1_uhufi"]
[ext_resource type="Script" path="res://script/problem_manager.gd" id="2_qbmpg"]
[ext_resource type="Script" path="res://script/DateManager.gd" id="3_deeda"]
[ext_resource type="PackedScene" uid="uid://c5uda31jw6q3l" path="res://scenes/date.tscn" id="3_ea4ev"]
[ext_resource type="PackedScene" uid="uid://cfbf3xry8lspc" path="res://scenes/owner.tscn" id="4_tkdp3"]
[ext_resource type="Script" path="res://script/door_to_kitchen.gd" id="5_w7c7w"]
[ext_resource type="Script" path="res://script/door_to_dinning.gd" id="6_iy431"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ks20p"]
bg_color = Color(0, 0, 0, 1)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_38tdj"]
size = Vector2(61, 141)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mp2s3"]
size = Vector2(1866, 35)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_w2x6j"]
size = Vector2(56, 807)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3to8f"]
size = Vector2(56, 807)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_hyov0"]
size = Vector2(1866, 35)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yv04x"]
size = Vector2(73, 92)

[node name="Game" type="Node2D"]

[node name="CanvasLayer" type="CanvasLayer" parent="."]
script = ExtResource("1_fp8jv")

[node name="LoveBar" type="ProgressBar" parent="CanvasLayer"]
offset_left = 20.0
offset_top = 20.0
offset_right = 170.0
offset_bottom = 50.0
theme_override_styles/background = SubResource("StyleBoxFlat_ks20p")
value = 50.0
show_percentage = false

[node name="LoveLabel" type="RichTextLabel" parent="CanvasLayer/LoveBar"]
layout_mode = 0
offset_left = 20.0
offset_top = 5.0
offset_right = 121.0
offset_bottom = 45.0
bbcode_enabled = true
text = "[center]Love: 50%[/center]"
fit_content = true

[node name="DistractionLabel" type="RichTextLabel" parent="CanvasLayer"]
offset_left = 20.0
offset_top = 60.0
offset_right = 220.0
offset_bottom = 90.0
bbcode_enabled = true
text = "Distractions: 0"

[node name="Player" parent="." instance=ExtResource("1_uhufi")]
position = Vector2(0, -305)

[node name="ProblemManager" type="Node2D" parent="."]
script = ExtResource("2_qbmpg")

[node name="DateManager" type="Node" parent="."]
script = ExtResource("3_deeda")

[node name="Rooms" type="Node2D" parent="."]

[node name="DiningRoom" type="Node2D" parent="Rooms"]

[node name="DoorToKitchen" type="Area2D" parent="Rooms/DiningRoom"]
z_index = -1
position = Vector2(-451, -94)
script = ExtResource("5_w7c7w")
target_room = NodePath("../../Kitchen")
spawn_position = Vector2(500, 0)
door_side = "Right"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/DiningRoom/DoorToKitchen"]
position = Vector2(18.5, 26.5)
shape = SubResource("RectangleShape2D_38tdj")

[node name="ColorRect" type="ColorRect" parent="Rooms/DiningRoom/DoorToKitchen"]
offset_left = -11.0
offset_top = -44.0
offset_right = 49.0
offset_bottom = 94.0
color = Color(0.600222, 0.436197, 0.148246, 1)

[node name="RichTextLabel" type="RichTextLabel" parent="Rooms/DiningRoom/DoorToKitchen"]
offset_left = -24.0
offset_top = -79.0
offset_right = 62.0
offset_bottom = -39.0
bbcode_enabled = true
text = "Press E"
fit_content = true
scroll_active = false

[node name="StaticBody2D" type="StaticBody2D" parent="Rooms/DiningRoom"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/DiningRoom/StaticBody2D"]
position = Vector2(-3, 20.5)
shape = SubResource("RectangleShape2D_mp2s3")

[node name="ColorRect" type="ColorRect" parent="Rooms/DiningRoom/StaticBody2D/CollisionShape2D"]
offset_left = -922.0
offset_top = -19.0
offset_right = 939.0
offset_bottom = -6.0

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Rooms/DiningRoom/StaticBody2D"]
position = Vector2(-494, -368)
shape = SubResource("RectangleShape2D_w2x6j")

[node name="ColorRect" type="ColorRect" parent="Rooms/DiningRoom/StaticBody2D/CollisionShape2D2"]
offset_left = 18.0
offset_top = -429.0
offset_right = 30.0
offset_bottom = 406.0

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Rooms/DiningRoom/StaticBody2D"]
position = Vector2(501, -368)
shape = SubResource("RectangleShape2D_3to8f")

[node name="ColorRect" type="ColorRect" parent="Rooms/DiningRoom/StaticBody2D/CollisionShape2D3"]
offset_left = -25.0
offset_top = -429.0
offset_right = 1.0
offset_bottom = 406.0

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Rooms/DiningRoom/StaticBody2D"]
position = Vector2(4, -787)
shape = SubResource("RectangleShape2D_hyov0")

[node name="ColorRect" type="ColorRect" parent="Rooms/DiningRoom/StaticBody2D/CollisionShape2D4"]
offset_left = -922.0
offset_top = -19.0
offset_right = 939.0
offset_bottom = 19.0

[node name="TableArea" type="Area2D" parent="Rooms/DiningRoom"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/DiningRoom/TableArea"]
position = Vector2(0.5, -44)
shape = SubResource("RectangleShape2D_yv04x")

[node name="ColorRect" type="ColorRect" parent="Rooms/DiningRoom/TableArea"]
offset_left = -36.0
offset_top = -91.0
offset_right = 38.0
offset_bottom = 1.0
color = Color(0.949283, 0.875069, 0.669471, 1)

[node name="ProblemSpawnPoints" type="Node2D" parent="Rooms/DiningRoom"]

[node name="SpawnPoint1" type="Marker2D" parent="Rooms/DiningRoom/ProblemSpawnPoints"]
position = Vector2(-314, -51)

[node name="SpawnPoint2" type="Marker2D" parent="Rooms/DiningRoom/ProblemSpawnPoints"]
position = Vector2(335, -54)

[node name="date" parent="Rooms/DiningRoom" instance=ExtResource("3_ea4ev")]
modulate = Color(0.990952, 0.535871, 1, 1)
position = Vector2(126, -14)

[node name="owner" parent="Rooms/DiningRoom" instance=ExtResource("4_tkdp3")]
modulate = Color(0.195257, 0.704389, 0.813555, 1)
position = Vector2(-136, -16)

[node name="Kitchen" type="Node2D" parent="Rooms"]
visible = false

[node name="DoorToDinning" type="Area2D" parent="Rooms/Kitchen"]
z_index = -1
position = Vector2(424, -87)
script = ExtResource("6_iy431")
target_room = NodePath("../../DiningRoom")
spawn_position = Vector2(-450, 0)
door_side = "Left"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/Kitchen/DoorToDinning"]
position = Vector2(18.5, 26.5)
shape = SubResource("RectangleShape2D_38tdj")

[node name="ColorRect" type="ColorRect" parent="Rooms/Kitchen/DoorToDinning"]
offset_left = -11.0
offset_top = -44.0
offset_right = 49.0
offset_bottom = 94.0
color = Color(0.600222, 0.436197, 0.148246, 1)

[node name="RichTextLabel" type="RichTextLabel" parent="Rooms/Kitchen/DoorToDinning"]
offset_left = -24.0
offset_top = -79.0
offset_right = 62.0
offset_bottom = -39.0
bbcode_enabled = true
text = "Press E"
fit_content = true
scroll_active = false

[node name="StaticBody2D" type="StaticBody2D" parent="Rooms/Kitchen"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/Kitchen/StaticBody2D"]
position = Vector2(-3, 20.5)
shape = SubResource("RectangleShape2D_mp2s3")

[node name="ColorRect" type="ColorRect" parent="Rooms/Kitchen/StaticBody2D/CollisionShape2D"]
offset_left = -922.0
offset_top = -19.0
offset_right = 939.0
offset_bottom = -6.0

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Rooms/Kitchen/StaticBody2D"]
position = Vector2(-494, -368)
shape = SubResource("RectangleShape2D_w2x6j")

[node name="ColorRect" type="ColorRect" parent="Rooms/Kitchen/StaticBody2D/CollisionShape2D2"]
offset_left = 18.0
offset_top = -429.0
offset_right = 30.0
offset_bottom = 406.0

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Rooms/Kitchen/StaticBody2D"]
position = Vector2(501, -368)
shape = SubResource("RectangleShape2D_3to8f")

[node name="ColorRect" type="ColorRect" parent="Rooms/Kitchen/StaticBody2D/CollisionShape2D3"]
offset_left = -25.0
offset_top = -429.0
offset_right = 1.0
offset_bottom = 406.0

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Rooms/Kitchen/StaticBody2D"]
position = Vector2(4, -787)
shape = SubResource("RectangleShape2D_hyov0")

[node name="ColorRect" type="ColorRect" parent="Rooms/Kitchen/StaticBody2D/CollisionShape2D4"]
offset_left = -922.0
offset_top = -19.0
offset_right = 939.0
offset_bottom = 19.0

[node name="ProblemSpawnPoints" type="Node2D" parent="Rooms/Kitchen"]

[node name="SpawnPoint1" type="Marker2D" parent="Rooms/Kitchen/ProblemSpawnPoints"]
position = Vector2(-637, -38)

[node name="SpawnPoint2" type="Marker2D" parent="Rooms/Kitchen/ProblemSpawnPoints"]
position = Vector2(525, -49)

[connection signal="love_level_changed" from="DateManager" to="Rooms/DiningRoom/date" method="_on_date_manager_love_level_changed"]
[connection signal="love_level_changed" from="DateManager" to="Rooms/DiningRoom/owner" method="_on_date_manager_love_level_changed"]
[connection signal="body_entered" from="Rooms/DiningRoom/DoorToKitchen" to="Rooms/DiningRoom/DoorToKitchen" method="_on_body_entered"]
[connection signal="body_exited" from="Rooms/DiningRoom/DoorToKitchen" to="Rooms/DiningRoom/DoorToKitchen" method="_on_body_exited"]
[connection signal="body_entered" from="Rooms/Kitchen/DoorToDinning" to="Rooms/Kitchen/DoorToDinning" method="_on_body_entered"]
[connection signal="body_exited" from="Rooms/Kitchen/DoorToDinning" to="Rooms/Kitchen/DoorToDinning" method="_on_body_exited"]
