[gd_scene load_steps=36 format=3 uid="uid://bxgd8ckgfbbq8"]

[ext_resource type="Script" path="res://script/GameUI.gd" id="1_fp8jv"]
[ext_resource type="Script" path="res://script/static_camera.gd" id="1_mye2x"]
[ext_resource type="PackedScene" uid="uid://byktwux5rrnxo" path="res://scenes/player.tscn" id="1_uhufi"]
[ext_resource type="Script" path="res://script/problem_manager.gd" id="2_qbmpg"]
[ext_resource type="Script" path="res://script/DateManager.gd" id="3_deeda"]
[ext_resource type="PackedScene" uid="uid://c5uda31jw6q3l" path="res://scenes/date.tscn" id="3_ea4ev"]
[ext_resource type="Script" path="res://script/game_timer.gd" id="3_tvuu4"]
[ext_resource type="PackedScene" uid="uid://cfbf3xry8lspc" path="res://scenes/owner.tscn" id="4_tkdp3"]
[ext_resource type="Script" path="res://script/door_to_kitchen.gd" id="5_w7c7w"]
[ext_resource type="Script" path="res://script/door_to_livingroom.gd" id="6_fx0nu"]
[ext_resource type="Script" path="res://script/door_to_dinning.gd" id="6_iy431"]
[ext_resource type="Script" path="res://script/door_to_attic.gd" id="9_bg0qy"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_38tdj"]
size = Vector2(56, 125)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_r0iuj"]
size = Vector2(64, 123)

[sub_resource type="GDScript" id="GDScript_0d74o"]
script/source = "extends Area2D

@export var target_room: NodePath
@export var spawn_position: Vector2
@export_enum(\"Left\", \"Right\") var door_side: String

@onready var prompt_label = $RichTextLabel
@onready var rooms_node = get_node(\"/root/Game/Rooms\")

# Static variable shared between all doors
static var is_transitioning := false

func _ready():
	prompt_label.text = \"[center]Press E[/center]\"
	prompt_label.hide()

func _process(_delta):
	# Only process if we're in the visible room
	if not get_parent().visible:
		return
		
	if not is_transitioning and overlaps_body(get_node(\"/root/Game/Player\")) and Input.is_action_just_pressed(\"interact\"):
		transition_to_room()

func _on_body_entered(body):
	if body.is_in_group(\"player\") and get_parent().visible:
		prompt_label.show()

func _on_body_exited(body):
	if body.is_in_group(\"player\"):
		prompt_label.hide()

func transition_to_room():
	var target = get_node(target_room)
	if target and not is_transitioning:
		is_transitioning = true
		
		# Hide all rooms first
		for room in rooms_node.get_children():
			room.hide()
		
		# Show only the target room
		target.show()
		
		# Move player to spawn position
		var player = get_node(\"/root/Game/Player\")
		if player:
			# Stop player movement
			player.velocity = Vector2.ZERO
			player.global_position = spawn_position
			print(\"Transitioning to \", target.name, \" at position: \", spawn_position)
		
		# Reset transition lock after a short delay
		await get_tree().create_timer(0.5).timeout
		is_transitioning = false
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ccio6"]
size = Vector2(66, 32)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mp2s3"]
size = Vector2(1129.75, 35)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_w2x6j"]
size = Vector2(56, 800)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3to8f"]
size = Vector2(56, 814)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3kh8g"]
size = Vector2(317, 12.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_u28v5"]
size = Vector2(315.5, 13.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jrg84"]
size = Vector2(315.5, 11.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_m3g2a"]
size = Vector2(130, 12.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yv04x"]
size = Vector2(73, 92)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_hyov0"]
size = Vector2(1043, 35)

[sub_resource type="GDScript" id="GDScript_k55ms"]
script/source = "extends Area2D

@export var target_room: NodePath  # Relative path from DoorToKitchen to Kitchen
@export var spawn_position: Vector2
@export_enum(\"Left\", \"Right\") var door_side: String

@onready var prompt_label = $RichTextLabel
@onready var rooms_node = get_node(\"/root/Game/Rooms\")

func _ready():
	prompt_label.text = \"[center]Press E[/center]\"
	prompt_label.hide()

func _process(_delta):
	if overlaps_body(get_node(\"/root/Game/Player\")) and Input.is_action_just_pressed(\"interact\"):
		transition_to_room()

func _on_body_entered(body):
	if body.is_in_group(\"player\"):
		prompt_label.show()

func _on_body_exited(body):
	if body.is_in_group(\"player\"):
		prompt_label.hide()

func transition_to_room():
	var target = get_node(target_room)
	if target:
		# Hide all rooms first
		for room in rooms_node.get_children():
			room.hide()
		
		# Show only the target room
		target.show()
		
		# Move player to spawn position
		var player = get_node(\"/root/Game/Player\")
		if player:
			player.global_position = spawn_position
			print(\"Transitioning to \", target.name, \" at position: \", spawn_position)
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_hegm4"]
size = Vector2(56, 419.75)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_g1mrb"]
size = Vector2(56, 396.5)

[sub_resource type="GDScript" id="GDScript_my01t"]
script/source = "extends Area2D

@export var target_room: NodePath  # Relative path from DoorToKitchen to Kitchen
@export var spawn_position: Vector2
@export_enum(\"Left\", \"Right\") var door_side: String

@onready var prompt_label = $RichTextLabel
@onready var rooms_node = get_node(\"/root/Game/Rooms\")

func _ready():
	prompt_label.text = \"[center]Press E[/center]\"
	prompt_label.hide()

func _process(_delta):
	if overlaps_body(get_node(\"/root/Game/Player\")) and Input.is_action_just_pressed(\"interact\"):
		transition_to_room()

func _on_body_entered(body):
	if body.is_in_group(\"player\"):
		prompt_label.show()

func _on_body_exited(body):
	if body.is_in_group(\"player\"):
		prompt_label.hide()

func transition_to_room():
	var target = get_node(target_room)
	if target:
		# Hide all rooms first
		for room in rooms_node.get_children():
			room.hide()
		
		# Show only the target room
		target.show()
		
		# Move player to spawn position
		var player = get_node(\"/root/Game/Player\")
		if player:
			player.global_position = spawn_position
			print(\"Transitioning to \", target.name, \" at position: \", spawn_position)
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_gbjc0"]
size = Vector2(99, 76)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wtdru"]
size = Vector2(1260, 35)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_eoajc"]
size = Vector2(56, 419.75)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ihl7m"]
size = Vector2(56, 396.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fkmay"]
size = Vector2(1269, 35)

[sub_resource type="GDScript" id="GDScript_kc35o"]
script/source = "extends Area2D

@export var target_room: NodePath  # Relative path from DoorToKitchen to Kitchen
@export var spawn_position: Vector2
@export_enum(\"Left\", \"Right\") var door_side: String

@onready var prompt_label = $RichTextLabel
@onready var rooms_node = get_node(\"/root/Game/Rooms\")

func _ready():
	prompt_label.text = \"[center]Press E[/center]\"
	prompt_label.hide()

func _process(_delta):
	if overlaps_body(get_node(\"/root/Game/Player\")) and Input.is_action_just_pressed(\"interact\"):
		transition_to_room()

func _on_body_entered(body):
	if body.is_in_group(\"player\"):
		prompt_label.show()

func _on_body_exited(body):
	if body.is_in_group(\"player\"):
		prompt_label.hide()

func transition_to_room():
	var target = get_node(target_room)
	if target:
		# Hide all rooms first
		for room in rooms_node.get_children():
			room.hide()
		
		# Show only the target room
		target.show()
		
		# Move player to spawn position
		var player = get_node(\"/root/Game/Player\")
		if player:
			player.global_position = spawn_position
			print(\"Transitioning to \", target.name, \" at position: \", spawn_position)
"

[node name="Game" type="Node2D"]
position = Vector2(-5, -2)

[node name="BGs" type="Sprite2D" parent="."]
position = Vector2(20, -344)

[node name="StaticCamera" type="Camera2D" parent="."]
zoom = Vector2(0.8, 0.8)
script = ExtResource("1_mye2x")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
script = ExtResource("1_fp8jv")

[node name="LoveBar" type="ProgressBar" parent="CanvasLayer"]
offset_left = 20.0
offset_top = 20.0
offset_right = 170.0
offset_bottom = 50.0
value = 20.0
show_percentage = false

[node name="LoveLabel" type="RichTextLabel" parent="CanvasLayer/LoveBar"]
layout_mode = 0
offset_left = 20.0
offset_top = 5.0
offset_right = 121.0
offset_bottom = 45.0
bbcode_enabled = true
text = "[center]Love: 50%[/center]"
fit_content = true

[node name="DistractionLabel" type="RichTextLabel" parent="CanvasLayer"]
offset_left = 20.0
offset_top = 60.0
offset_right = 220.0
offset_bottom = 90.0
bbcode_enabled = true
text = "Distractions: 0"

[node name="TimerLabel" type="RichTextLabel" parent="CanvasLayer"]
offset_left = 444.0
offset_top = 22.0
offset_right = 668.0
offset_bottom = 102.0
bbcode_enabled = true
fit_content = true
script = ExtResource("3_tvuu4")

[node name="Player" parent="." instance=ExtResource("1_uhufi")]
position = Vector2(2, -303)

[node name="ProblemManager" type="Node2D" parent="."]
script = ExtResource("2_qbmpg")

[node name="DateManager" type="Node" parent="."]
script = ExtResource("3_deeda")
initial_love = 25.0

[node name="ProblemSpawnPoints" type="Node2D" parent="."]

[node name="DiningSpawnPoints" type="Node2D" parent="ProblemSpawnPoints"]

[node name="SpawnPoint1" type="Marker2D" parent="ProblemSpawnPoints/DiningSpawnPoints"]
position = Vector2(-314, -51)

[node name="SpawnPoint2" type="Marker2D" parent="ProblemSpawnPoints/DiningSpawnPoints"]
position = Vector2(335, -54)

[node name="KitchenSpawnPoints" type="Node2D" parent="ProblemSpawnPoints"]

[node name="SpawnPoint4" type="Marker2D" parent="ProblemSpawnPoints/KitchenSpawnPoints"]
position = Vector2(-1131, -66)

[node name="LivingSpawnPoints" type="Node2D" parent="ProblemSpawnPoints"]

[node name="SpawnPoint3" type="Marker2D" parent="ProblemSpawnPoints/LivingSpawnPoints"]
position = Vector2(1125, -73)

[node name="BasementSpawnPoints" type="Node2D" parent="ProblemSpawnPoints"]

[node name="SpawnPoint5" type="Marker2D" parent="ProblemSpawnPoints/BasementSpawnPoints"]
position = Vector2(251, 380)

[node name="AtticSpawnPoints" type="Node2D" parent="ProblemSpawnPoints"]

[node name="SpawnPoint5" type="Marker2D" parent="ProblemSpawnPoints/AtticSpawnPoints"]
position = Vector2(207, -734)

[node name="Rooms" type="Node2D" parent="."]

[node name="DiningRoom" type="Node2D" parent="Rooms"]

[node name="DoorToKitchen" type="Area2D" parent="Rooms/DiningRoom"]
z_index = -1
position = Vector2(-451, -94)
script = ExtResource("5_w7c7w")
target_room = NodePath("../../Kitchen")
spawn_position = Vector2(-700, 0)
door_side = "Right"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/DiningRoom/DoorToKitchen"]
position = Vector2(17, 24.5)
shape = SubResource("RectangleShape2D_38tdj")

[node name="ColorRect" type="ColorRect" parent="Rooms/DiningRoom/DoorToKitchen"]
offset_left = -11.0
offset_top = -44.0
offset_right = 49.0
offset_bottom = 94.0
color = Color(0.600222, 0.436197, 0.148246, 1)

[node name="RichTextLabel" type="RichTextLabel" parent="Rooms/DiningRoom/DoorToKitchen"]
offset_left = -24.0
offset_top = -79.0
offset_right = 62.0
offset_bottom = -39.0
bbcode_enabled = true
text = "Press E"
fit_content = true
scroll_active = false

[node name="DoorToLivingroom" type="Area2D" parent="Rooms/DiningRoom"]
z_index = -1
position = Vector2(395, -87)
script = ExtResource("6_fx0nu")
target_room = NodePath("../../LivingRoom")
spawn_position = Vector2(700, 0)
door_side = "Left"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/DiningRoom/DoorToLivingroom"]
z_index = -1
position = Vector2(36, 20.5)
shape = SubResource("RectangleShape2D_r0iuj")

[node name="ColorRect" type="ColorRect" parent="Rooms/DiningRoom/DoorToLivingroom"]
z_index = -1
offset_top = -44.0
offset_right = 70.0
offset_bottom = 88.0
color = Color(0.6, 0.435294, 0.14902, 1)

[node name="RichTextLabel" type="RichTextLabel" parent="Rooms/DiningRoom/DoorToLivingroom"]
offset_left = 4.0
offset_top = -71.0
offset_right = 82.0
offset_bottom = -31.0
bbcode_enabled = true
text = "Press E"
fit_content = true

[node name="DoorToBasement" type="Area2D" parent="Rooms/DiningRoom"]
z_index = -1
position = Vector2(494, -89)
script = SubResource("GDScript_0d74o")
target_room = NodePath("../../Basement")
spawn_position = Vector2(0, 400)
door_side = "Right"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/DiningRoom/DoorToBasement"]
z_index = -1
position = Vector2(35, 71)
shape = SubResource("RectangleShape2D_ccio6")

[node name="ColorRect" type="ColorRect" parent="Rooms/DiningRoom/DoorToBasement"]
z_index = -1
offset_top = 55.0
offset_right = 70.0
offset_bottom = 88.0
color = Color(0.509804, 0.509804, 0.509804, 1)

[node name="RichTextLabel" type="RichTextLabel" parent="Rooms/DiningRoom/DoorToBasement"]
offset_left = 1.0
offset_top = 24.0
offset_right = 79.0
offset_bottom = 64.0
bbcode_enabled = true
text = "Press E"
fit_content = true

[node name="DoorToAttic" type="Area2D" parent="Rooms/DiningRoom"]
z_index = -1
position = Vector2(-194, -499)
script = ExtResource("9_bg0qy")
target_room = NodePath("../../Attic")
spawn_position = Vector2(0, -700)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/DiningRoom/DoorToAttic"]
z_index = -1
position = Vector2(35, 71)
shape = SubResource("RectangleShape2D_ccio6")

[node name="ColorRect" type="ColorRect" parent="Rooms/DiningRoom/DoorToAttic"]
z_index = -1
offset_top = 55.0
offset_right = 70.0
offset_bottom = 88.0
color = Color(0.509804, 0.509804, 0.509804, 1)

[node name="RichTextLabel" type="RichTextLabel" parent="Rooms/DiningRoom/DoorToAttic"]
offset_left = 1.0
offset_top = 24.0
offset_right = 79.0
offset_bottom = 64.0
bbcode_enabled = true
text = "Press E"
fit_content = true

[node name="StaticBody2D" type="StaticBody2D" parent="Rooms/DiningRoom"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/DiningRoom/StaticBody2D"]
position = Vector2(-10.25, 20.5)
shape = SubResource("RectangleShape2D_mp2s3")

[node name="ColorRect" type="ColorRect" parent="Rooms/DiningRoom/StaticBody2D/CollisionShape2D"]
offset_left = -613.0
offset_top = -19.0
offset_right = 630.0
offset_bottom = -6.0

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Rooms/DiningRoom/StaticBody2D"]
position = Vector2(-637, -381.25)
shape = SubResource("RectangleShape2D_w2x6j")

[node name="ColorRect" type="ColorRect" parent="Rooms/DiningRoom/StaticBody2D/CollisionShape2D2"]
offset_left = 8.0
offset_top = -420.0
offset_right = 30.0
offset_bottom = 382.0

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Rooms/DiningRoom/StaticBody2D"]
position = Vector2(621, -393.5)
shape = SubResource("RectangleShape2D_3to8f")

[node name="ColorRect" type="ColorRect" parent="Rooms/DiningRoom/StaticBody2D/CollisionShape2D3"]
offset_left = -25.0
offset_top = -400.0
offset_right = 1.0
offset_bottom = 394.0

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Rooms/DiningRoom/StaticBody2D"]
position = Vector2(-38, -403.25)
shape = SubResource("RectangleShape2D_3kh8g")
one_way_collision = true

[node name="ColorRect" type="ColorRect" parent="Rooms/DiningRoom/StaticBody2D/CollisionShape2D4"]
offset_left = -156.0
offset_top = -7.75
offset_right = 171.0
offset_bottom = 5.25

[node name="CollisionShape2D5" type="CollisionShape2D" parent="Rooms/DiningRoom/StaticBody2D"]
position = Vector2(-475, -345.75)
shape = SubResource("RectangleShape2D_u28v5")
one_way_collision = true

[node name="ColorRect" type="ColorRect" parent="Rooms/DiningRoom/StaticBody2D/CollisionShape2D5"]
offset_left = -157.0
offset_top = -7.0
offset_right = 154.0
offset_bottom = 6.0

[node name="CollisionShape2D6" type="CollisionShape2D" parent="Rooms/DiningRoom/StaticBody2D"]
position = Vector2(-246, -220.75)
shape = SubResource("RectangleShape2D_jrg84")
one_way_collision = true

[node name="ColorRect" type="ColorRect" parent="Rooms/DiningRoom/StaticBody2D/CollisionShape2D6"]
offset_left = -159.0
offset_top = -8.0
offset_right = 168.0
offset_bottom = 5.0

[node name="CollisionShape2D7" type="CollisionShape2D" parent="Rooms/DiningRoom/StaticBody2D"]
position = Vector2(-551, -101)
shape = SubResource("RectangleShape2D_m3g2a")
one_way_collision = true

[node name="ColorRect" type="ColorRect" parent="Rooms/DiningRoom/StaticBody2D/CollisionShape2D7"]
offset_left = -88.0
offset_top = -7.0
offset_right = 63.0
offset_bottom = 6.0

[node name="TableArea" type="Area2D" parent="Rooms/DiningRoom"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/DiningRoom/TableArea"]
position = Vector2(0.5, -44)
shape = SubResource("RectangleShape2D_yv04x")

[node name="ColorRect" type="ColorRect" parent="Rooms/DiningRoom/TableArea"]
offset_left = -36.0
offset_top = -91.0
offset_right = 38.0
offset_bottom = 1.0
color = Color(0.949283, 0.875069, 0.669471, 1)

[node name="date" parent="Rooms/DiningRoom" instance=ExtResource("3_ea4ev")]
modulate = Color(0.990952, 0.535871, 1, 1)
position = Vector2(126, -14)

[node name="owner" parent="Rooms/DiningRoom" instance=ExtResource("4_tkdp3")]
modulate = Color(0.195257, 0.704389, 0.813555, 1)
position = Vector2(-136, -16)

[node name="Kitchen" type="Node2D" parent="Rooms"]
position = Vector2(-1131, -5)

[node name="DoorToDinning" type="Area2D" parent="Rooms/Kitchen"]
z_index = -1
position = Vector2(424, -87)
script = ExtResource("6_iy431")
target_room = NodePath("../../DiningRoom")
spawn_position = Vector2(-450, 0)
door_side = "Left"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/Kitchen/DoorToDinning"]
position = Vector2(18.5, 26.5)
shape = SubResource("RectangleShape2D_38tdj")

[node name="ColorRect" type="ColorRect" parent="Rooms/Kitchen/DoorToDinning"]
offset_left = -11.0
offset_top = -44.0
offset_right = 49.0
offset_bottom = 94.0
color = Color(0.600222, 0.436197, 0.148246, 1)

[node name="RichTextLabel" type="RichTextLabel" parent="Rooms/Kitchen/DoorToDinning"]
offset_left = -24.0
offset_top = -79.0
offset_right = 62.0
offset_bottom = -39.0
bbcode_enabled = true
text = "Press E"
fit_content = true
scroll_active = false

[node name="StaticBody2D" type="StaticBody2D" parent="Rooms/Kitchen"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/Kitchen/StaticBody2D"]
position = Vector2(5.5, 20.5)
shape = SubResource("RectangleShape2D_mp2s3")

[node name="ColorRect" type="ColorRect" parent="Rooms/Kitchen/StaticBody2D/CollisionShape2D"]
offset_left = -475.0
offset_top = -19.0
offset_right = 483.0
offset_bottom = -6.0

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Rooms/Kitchen/StaticBody2D"]
position = Vector2(-494, -368)
shape = SubResource("RectangleShape2D_w2x6j")

[node name="ColorRect" type="ColorRect" parent="Rooms/Kitchen/StaticBody2D/CollisionShape2D2"]
offset_left = 18.0
offset_top = -429.0
offset_right = 30.0
offset_bottom = 406.0

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Rooms/Kitchen/StaticBody2D"]
position = Vector2(501, -385)
shape = SubResource("RectangleShape2D_3to8f")

[node name="ColorRect" type="ColorRect" parent="Rooms/Kitchen/StaticBody2D/CollisionShape2D3"]
offset_left = -25.0
offset_top = -429.0
offset_right = 1.0
offset_bottom = 406.0

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Rooms/Kitchen/StaticBody2D"]
position = Vector2(0.5, -787)
shape = SubResource("RectangleShape2D_hyov0")

[node name="ColorRect" type="ColorRect" parent="Rooms/Kitchen/StaticBody2D/CollisionShape2D4"]
offset_left = -472.0
offset_top = -19.0
offset_right = 494.0
offset_bottom = 19.0

[node name="LivingRoom" type="Node2D" parent="Rooms"]
position = Vector2(1098, 5)

[node name="StaticBody2D" type="StaticBody2D" parent="Rooms/LivingRoom"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/LivingRoom/StaticBody2D"]
position = Vector2(5.5, 20.5)
shape = SubResource("RectangleShape2D_mp2s3")

[node name="ColorRect" type="ColorRect" parent="Rooms/LivingRoom/StaticBody2D/CollisionShape2D"]
offset_left = -475.0
offset_top = -19.0
offset_right = 483.0
offset_bottom = -6.0

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Rooms/LivingRoom/StaticBody2D"]
position = Vector2(-494, -397)
shape = SubResource("RectangleShape2D_w2x6j")

[node name="ColorRect" type="ColorRect" parent="Rooms/LivingRoom/StaticBody2D/CollisionShape2D2"]
offset_left = 18.0
offset_top = -429.0
offset_right = 30.0
offset_bottom = 406.0

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Rooms/LivingRoom/StaticBody2D"]
position = Vector2(501, -368)
shape = SubResource("RectangleShape2D_3to8f")

[node name="ColorRect" type="ColorRect" parent="Rooms/LivingRoom/StaticBody2D/CollisionShape2D3"]
offset_left = -25.0
offset_top = -429.0
offset_right = 1.0
offset_bottom = 406.0

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Rooms/LivingRoom/StaticBody2D"]
position = Vector2(0.5, -787)
shape = SubResource("RectangleShape2D_hyov0")

[node name="ColorRect" type="ColorRect" parent="Rooms/LivingRoom/StaticBody2D/CollisionShape2D4"]
offset_left = -472.0
offset_top = -19.0
offset_right = 494.0
offset_bottom = 19.0

[node name="DoorToDinning" type="Area2D" parent="Rooms/LivingRoom"]
z_index = -1
position = Vector2(-346, -98)
script = SubResource("GDScript_k55ms")
target_room = NodePath("../../DiningRoom")
spawn_position = Vector2(450, 0)
door_side = "Right"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/LivingRoom/DoorToDinning"]
position = Vector2(18.5, 26.5)
shape = SubResource("RectangleShape2D_38tdj")

[node name="ColorRect" type="ColorRect" parent="Rooms/LivingRoom/DoorToDinning"]
offset_left = -11.0
offset_top = -44.0
offset_right = 49.0
offset_bottom = 94.0
color = Color(0.600222, 0.436197, 0.148246, 1)

[node name="RichTextLabel" type="RichTextLabel" parent="Rooms/LivingRoom/DoorToDinning"]
offset_left = -24.0
offset_top = -79.0
offset_right = 62.0
offset_bottom = -39.0
bbcode_enabled = true
text = "Press E"
fit_content = true
scroll_active = false

[node name="Basement" type="Node2D" parent="Rooms"]
position = Vector2(-4, 819)

[node name="StaticBody2D" type="StaticBody2D" parent="Rooms/Basement"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/Basement/StaticBody2D"]
position = Vector2(-23.125, -367)
shape = SubResource("RectangleShape2D_mp2s3")

[node name="ColorRect" type="ColorRect" parent="Rooms/Basement/StaticBody2D/CollisionShape2D"]
offset_left = -475.0
offset_top = -19.0
offset_right = 523.0
offset_bottom = -6.0

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Rooms/Basement/StaticBody2D"]
position = Vector2(-494, -574.875)
shape = SubResource("RectangleShape2D_hegm4")

[node name="ColorRect" type="ColorRect" parent="Rooms/Basement/StaticBody2D/CollisionShape2D2"]
offset_left = 15.0
offset_top = -222.0
offset_right = 30.0
offset_bottom = 193.0

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Rooms/Basement/StaticBody2D"]
position = Vector2(501, -571.25)
shape = SubResource("RectangleShape2D_g1mrb")

[node name="ColorRect" type="ColorRect" parent="Rooms/Basement/StaticBody2D/CollisionShape2D3"]
offset_left = -25.0
offset_top = -236.0
offset_right = 1.0
offset_bottom = 185.0

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Rooms/Basement/StaticBody2D"]
position = Vector2(0.5, -787)
shape = SubResource("RectangleShape2D_hyov0")

[node name="ColorRect" type="ColorRect" parent="Rooms/Basement/StaticBody2D/CollisionShape2D4"]
offset_left = -472.0
offset_top = -19.0
offset_right = 494.0
offset_bottom = 19.0

[node name="DoorToDinning" type="Area2D" parent="Rooms/Basement"]
z_index = -1
position = Vector2(7, -484)
script = SubResource("GDScript_my01t")
target_room = NodePath("../../DiningRoom")
spawn_position = Vector2(500, 0)
door_side = "Left"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/Basement/DoorToDinning"]
position = Vector2(4.5, 59)
shape = SubResource("RectangleShape2D_gbjc0")

[node name="ColorRect" type="ColorRect" parent="Rooms/Basement/DoorToDinning"]
offset_left = -47.0
offset_top = 18.0
offset_right = 59.0
offset_bottom = 102.0
color = Color(0.510075, 0.510075, 0.510075, 1)

[node name="RichTextLabel" type="RichTextLabel" parent="Rooms/Basement/DoorToDinning"]
offset_left = -28.0
offset_top = -15.0
offset_right = 51.0
offset_bottom = 17.0
bbcode_enabled = true
text = "Press E"
fit_content = true
scroll_active = false

[node name="Attic" type="Node2D" parent="Rooms"]
position = Vector2(-2, -250)

[node name="StaticBody2D" type="StaticBody2D" parent="Rooms/Attic"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/Attic/StaticBody2D"]
position = Vector2(-14, -367)
shape = SubResource("RectangleShape2D_wtdru")

[node name="ColorRect" type="ColorRect" parent="Rooms/Attic/StaticBody2D/CollisionShape2D"]
offset_left = -631.0
offset_top = -19.0
offset_right = 643.0
offset_bottom = -6.0

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Rooms/Attic/StaticBody2D"]
position = Vector2(-619, -580)
shape = SubResource("RectangleShape2D_eoajc")

[node name="ColorRect" type="ColorRect" parent="Rooms/Attic/StaticBody2D/CollisionShape2D2"]
offset_left = 15.0
offset_top = -222.0
offset_right = 30.0
offset_bottom = 193.0

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Rooms/Attic/StaticBody2D"]
position = Vector2(609, -570)
shape = SubResource("RectangleShape2D_ihl7m")

[node name="ColorRect" type="ColorRect" parent="Rooms/Attic/StaticBody2D/CollisionShape2D3"]
offset_left = -25.0
offset_top = -236.0
offset_right = 1.0
offset_bottom = 185.0

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Rooms/Attic/StaticBody2D"]
position = Vector2(-7.5, -787)
shape = SubResource("RectangleShape2D_fkmay")

[node name="ColorRect" type="ColorRect" parent="Rooms/Attic/StaticBody2D/CollisionShape2D4"]
offset_left = -595.0
offset_top = -19.0
offset_right = 619.0
offset_bottom = 19.0

[node name="DoorToDinning" type="Area2D" parent="Rooms/Attic"]
z_index = -1
position = Vector2(7, -484)
script = SubResource("GDScript_kc35o")
target_room = NodePath("../../DiningRoom")
spawn_position = Vector2(0, -500)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/Attic/DoorToDinning"]
position = Vector2(4.5, 59)
shape = SubResource("RectangleShape2D_gbjc0")

[node name="ColorRect" type="ColorRect" parent="Rooms/Attic/DoorToDinning"]
offset_left = -47.0
offset_top = 18.0
offset_right = 59.0
offset_bottom = 102.0
color = Color(0.510075, 0.510075, 0.510075, 1)

[node name="RichTextLabel" type="RichTextLabel" parent="Rooms/Attic/DoorToDinning"]
offset_left = -28.0
offset_top = -15.0
offset_right = 51.0
offset_bottom = 17.0
bbcode_enabled = true
text = "Press E"
fit_content = true
scroll_active = false

[connection signal="love_level_changed" from="DateManager" to="Rooms/DiningRoom/date" method="_on_date_manager_love_level_changed"]
[connection signal="love_level_changed" from="DateManager" to="Rooms/DiningRoom/owner" method="_on_date_manager_love_level_changed"]
[connection signal="body_entered" from="Rooms/DiningRoom/DoorToKitchen" to="Rooms/DiningRoom/DoorToKitchen" method="_on_body_entered"]
[connection signal="body_exited" from="Rooms/DiningRoom/DoorToKitchen" to="Rooms/DiningRoom/DoorToKitchen" method="_on_body_exited"]
[connection signal="body_entered" from="Rooms/DiningRoom/DoorToLivingroom" to="Rooms/DiningRoom/DoorToLivingroom" method="_on_body_entered"]
[connection signal="body_exited" from="Rooms/DiningRoom/DoorToLivingroom" to="Rooms/DiningRoom/DoorToLivingroom" method="_on_body_exited"]
[connection signal="body_entered" from="Rooms/DiningRoom/DoorToBasement" to="Rooms/DiningRoom/DoorToBasement" method="_on_body_entered"]
[connection signal="body_exited" from="Rooms/DiningRoom/DoorToBasement" to="Rooms/DiningRoom/DoorToBasement" method="_on_body_exited"]
[connection signal="body_entered" from="Rooms/DiningRoom/DoorToAttic" to="Rooms/DiningRoom/DoorToAttic" method="_on_body_entered"]
[connection signal="body_exited" from="Rooms/DiningRoom/DoorToAttic" to="Rooms/DiningRoom/DoorToAttic" method="_on_body_exited"]
[connection signal="body_entered" from="Rooms/Kitchen/DoorToDinning" to="Rooms/Kitchen/DoorToDinning" method="_on_body_entered"]
[connection signal="body_exited" from="Rooms/Kitchen/DoorToDinning" to="Rooms/Kitchen/DoorToDinning" method="_on_body_exited"]
[connection signal="body_entered" from="Rooms/LivingRoom/DoorToDinning" to="Rooms/LivingRoom/DoorToDinning" method="_on_body_entered"]
[connection signal="body_exited" from="Rooms/LivingRoom/DoorToDinning" to="Rooms/LivingRoom/DoorToDinning" method="_on_body_exited"]
[connection signal="body_entered" from="Rooms/Basement/DoorToDinning" to="Rooms/Basement/DoorToDinning" method="_on_body_entered"]
[connection signal="body_exited" from="Rooms/Basement/DoorToDinning" to="Rooms/Basement/DoorToDinning" method="_on_body_exited"]
[connection signal="body_entered" from="Rooms/Attic/DoorToDinning" to="Rooms/Attic/DoorToDinning" method="_on_body_entered"]
[connection signal="body_exited" from="Rooms/Attic/DoorToDinning" to="Rooms/Attic/DoorToDinning" method="_on_body_exited"]
